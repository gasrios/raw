/*
 * Â© ðŸðŸŽðŸðŸ‘ ð†ð®ð¢ð¥ð¡ðžð«ð¦ðž ð‘ð¢ð¨ð¬ ð€ð¥ð¥ ð‘ð¢ð ð¡ð­ð¬ ð‘ðžð¬ðžð«ð¯ðžð
 *
 * ð‘‡â„Žð‘–ð‘  ð‘ð‘Ÿð‘œð‘”ð‘Ÿð‘Žð‘š ð‘–ð‘  ð‘“ð‘Ÿð‘’ð‘’ ð‘ ð‘œð‘“ð‘¡ð‘¤ð‘Žð‘Ÿð‘’: ð‘¦ð‘œð‘¢ ð‘ð‘Žð‘› ð‘Ÿð‘’ð‘‘ð‘–ð‘ ð‘¡ð‘Ÿð‘–ð‘ð‘¢ð‘¡ð‘’ ð‘–ð‘¡ ð‘Žð‘›ð‘‘/ð‘œð‘Ÿ ð‘šð‘œð‘‘ð‘–ð‘“ð‘¦ ð‘–ð‘¡ ð‘¢ð‘›ð‘‘ð‘’ð‘Ÿ ð‘¡â„Žð‘’ ð‘¡ð‘’ð‘Ÿð‘šð‘  ð‘œð‘“ ð‘¡â„Žð‘’
 * ðºð‘ð‘ˆ ðºð‘’ð‘›ð‘’ð‘Ÿð‘Žð‘™ ð‘ƒð‘¢ð‘ð‘™ð‘–ð‘ ð¿ð‘–ð‘ð‘’ð‘›ð‘ ð‘’ ð‘Žð‘  ð‘ð‘¢ð‘ð‘™ð‘–ð‘ â„Žð‘’ð‘‘ ð‘ð‘¦ ð‘¡â„Žð‘’ ð¹ð‘Ÿð‘’ð‘’ ð‘†ð‘œð‘“ð‘¡ð‘¤ð‘Žð‘Ÿð‘’ ð¹ð‘œð‘¢ð‘›ð‘‘ð‘Žð‘¡ð‘–ð‘œð‘›, ð‘£ð‘’ð‘Ÿð‘ ð‘–ð‘œð‘› 3 ð‘œð‘“ ð‘¡â„Žð‘’
 * ð¿ð‘–ð‘ð‘’ð‘›ð‘ ð‘’.
 *
 * ð‘‡â„Žð‘–ð‘  ð‘ð‘Ÿð‘œð‘”ð‘Ÿð‘Žð‘š ð‘–ð‘  ð‘‘ð‘–ð‘ ð‘¡ð‘Ÿð‘–ð‘ð‘¢ð‘¡ð‘’ð‘‘ ð‘–ð‘› ð‘¡â„Žð‘’ â„Žð‘œð‘ð‘’ ð‘¡â„Žð‘Žð‘¡ ð‘–ð‘¡ ð‘¤ð‘–ð‘™ð‘™ ð‘ð‘’ ð‘¢ð‘ ð‘’ð‘“ð‘¢ð‘™, ð‘ð‘¢ð‘¡ ð‘Šð¼ð‘‡ð»ð‘‚ð‘ˆð‘‡ ð´ð‘ð‘Œ ð‘Šð´ð‘…ð‘…ð´ð‘ð‘‡ð‘Œ;
 * ð‘¤ð‘–ð‘¡â„Žð‘œð‘¢ð‘¡ ð‘’ð‘£ð‘’ð‘› ð‘¡â„Žð‘’ ð‘–ð‘šð‘ð‘™ð‘–ð‘’ð‘‘ ð‘¤ð‘Žð‘Ÿð‘Ÿð‘Žð‘›ð‘¡ð‘¦ ð‘œð‘“ ð‘€ð¸ð‘…ð¶ð»ð´ð‘ð‘‡ð´ðµð¼ð¿ð¼ð‘‡ð‘Œ ð‘œð‘Ÿ ð¹ð¼ð‘‡ð‘ð¸ð‘†ð‘† ð¹ð‘‚ð‘… ð´ ð‘ƒð´ð‘…ð‘‡ð¼ð¶ð‘ˆð¿ð´ð‘… ð‘ƒð‘ˆð‘…ð‘ƒð‘‚ð‘†ð¸. ð‘†ð‘’ð‘’
 * ð‘¡â„Žð‘’ ðºð‘ð‘ˆ ðºð‘’ð‘›ð‘’ð‘Ÿð‘Žð‘™ ð‘ƒð‘¢ð‘ð‘™ð‘–ð‘ ð¿ð‘–ð‘ð‘’ð‘›ð‘ ð‘’ ð‘“ð‘œð‘Ÿ ð‘šð‘œð‘Ÿð‘’ ð‘‘ð‘’ð‘¡ð‘Žð‘–ð‘™ð‘ .
 *
 * ð‘Œð‘œð‘¢ ð‘ â„Žð‘œð‘¢ð‘™ð‘‘ â„Žð‘Žð‘£ð‘’ ð‘Ÿð‘’ð‘ð‘’ð‘–ð‘£ð‘’ð‘‘ ð‘Ž ð‘ð‘œð‘ð‘¦ ð‘œð‘“ ð‘¡â„Žð‘’ ðºð‘ð‘ˆ ðºð‘’ð‘›ð‘’ð‘Ÿð‘Žð‘™ ð‘ƒð‘¢ð‘ð‘™ð‘–ð‘ ð¿ð‘–ð‘ð‘’ð‘›ð‘ ð‘’ ð‘Žð‘™ð‘œð‘›ð‘” ð‘¤ð‘–ð‘¡â„Ž ð‘¡â„Žð‘–ð‘  ð‘ð‘Ÿð‘œð‘”ð‘Ÿð‘Žð‘š. ð¼ð‘“
 * ð‘›ð‘œð‘¡, ð‘ ð‘’ð‘’ â„Žð‘¡ð‘¡ð‘://ð‘¤ð‘¤ð‘¤.ð‘”ð‘›ð‘¢.ð‘œð‘Ÿð‘”/ð‘™ð‘–ð‘ð‘’ð‘›ð‘ ð‘’ð‘ /.
 */

/*
 * ð…ð«ð¨ð¦ ð“ðˆð…ð… ðŸ”.ðŸŽ ð’ð©ðžðœð¢ðŸð¢ðœðšð­ð¢ð¨ð§, ð©ðšð ðž ðŸðŸ’
 *
 * ð‘‡ð‘¦ð‘ð‘’ð‘ 
 *
 * ð‘‡â„Žð‘’ ð‘“ð‘–ð‘’ð‘™ð‘‘ ð‘¡ð‘¦ð‘ð‘’ð‘  ð‘Žð‘›ð‘‘ ð‘¡â„Žð‘’ð‘–ð‘Ÿ ð‘ ð‘–ð‘§ð‘’ð‘  ð‘Žð‘Ÿð‘’:
 *  1 = ðµð‘Œð‘‡ð¸ 8-ð‘ð‘–ð‘¡ ð‘¢ð‘›ð‘ ð‘–ð‘”ð‘›ð‘’ð‘‘ ð‘–ð‘›ð‘¡ð‘’ð‘”ð‘’ð‘Ÿ.
 *  2 = ð´ð‘†ð¶ð¼ð¼ 8-ð‘ð‘–ð‘¡ ð‘ð‘¦ð‘¡ð‘’ ð‘¡â„Žð‘Žð‘¡ ð‘ð‘œð‘›ð‘¡ð‘Žð‘–ð‘›ð‘  ð‘Ž 7-ð‘ð‘–ð‘¡ ð´ð‘†ð¶ð¼ð¼ ð‘ð‘œð‘‘ð‘’; ð‘¡â„Žð‘’ ð‘™ð‘Žð‘ ð‘¡ ð‘ð‘¦ð‘¡ð‘’ ð‘šð‘¢ð‘ ð‘¡ ð‘ð‘’ ð‘ð‘ˆð¿ (ð‘ð‘–ð‘›ð‘Žð‘Ÿð‘¦ ð‘§ð‘’ð‘Ÿð‘œ).
 *  3 = ð‘†ð»ð‘‚ð‘…ð‘‡ 16-ð‘ð‘–ð‘¡ (2-ð‘ð‘¦ð‘¡ð‘’) ð‘¢ð‘›ð‘ ð‘–ð‘”ð‘›ð‘’ð‘‘ ð‘–ð‘›ð‘¡ð‘’ð‘”ð‘’ð‘Ÿ.
 *  4 = ð¿ð‘‚ð‘ðº 32-ð‘ð‘–ð‘¡ (4-ð‘ð‘¦ð‘¡ð‘’) ð‘¢ð‘›ð‘ ð‘–ð‘”ð‘›ð‘’ð‘‘ ð‘–ð‘›ð‘¡ð‘’ð‘”ð‘’ð‘Ÿ.
 *  5 = ð‘…ð´ð‘‡ð¼ð‘‚ð‘ð´ð¿ ð‘‡ð‘¤ð‘œ ð¿ð‘‚ð‘ðºð‘ : ð‘¡â„Žð‘’ ð‘“ð‘–ð‘Ÿð‘ ð‘¡ ð‘Ÿð‘’ð‘ð‘Ÿð‘’ð‘ ð‘’ð‘›ð‘¡ð‘  ð‘¡â„Žð‘’ ð‘›ð‘¢ð‘šð‘’ð‘Ÿð‘Žð‘¡ð‘œð‘Ÿ ð‘œð‘“ ð‘Ž ð‘“ð‘Ÿð‘Žð‘ð‘¡ð‘–ð‘œð‘›; ð‘¡â„Žð‘’ ð‘ ð‘’ð‘ð‘œð‘›ð‘‘, ð‘¡â„Žð‘’
 *      ð‘‘ð‘’ð‘›ð‘œð‘šð‘–ð‘›ð‘Žð‘¡ð‘œð‘Ÿ.
 *  6 = ð‘†ðµð‘Œð‘‡ð¸ ð´ð‘› 8-ð‘ð‘–ð‘¡ ð‘ ð‘–ð‘”ð‘›ð‘’ð‘‘ (ð‘¡ð‘¤ð‘œð‘ -ð‘ð‘œð‘šð‘ð‘™ð‘’ð‘šð‘’ð‘›ð‘¡) ð‘–ð‘›ð‘¡ð‘’ð‘”ð‘’ð‘Ÿ.
 *  7 = ð‘ˆð‘ð·ð¸ð¹ð¼ð‘ð¸ð· ð´ð‘› 8-ð‘ð‘–ð‘¡ ð‘ð‘¦ð‘¡ð‘’ ð‘¡â„Žð‘Žð‘¡ ð‘šð‘Žð‘¦ ð‘ð‘œð‘›ð‘¡ð‘Žð‘–ð‘› ð‘Žð‘›ð‘¦ð‘¡â„Žð‘–ð‘›ð‘”, ð‘‘ð‘’ð‘ð‘’ð‘›ð‘‘ð‘–ð‘›ð‘” ð‘œð‘› ð‘¡â„Žð‘’ ð‘‘ð‘’ð‘“ð‘–ð‘›ð‘–ð‘¡ð‘–ð‘œð‘› ð‘œð‘“ ð‘¡â„Žð‘’
 *      ð‘“ð‘–ð‘’ð‘™ð‘‘.
 *  8 = ð‘†ð‘†ð»ð‘‚ð‘…ð‘‡ ð´ 16-ð‘ð‘–ð‘¡ (2-ð‘ð‘¦ð‘¡ð‘’) ð‘ ð‘–ð‘”ð‘›ð‘’ð‘‘ (ð‘¡ð‘¤ð‘œð‘ -ð‘ð‘œð‘šð‘ð‘™ð‘’ð‘šð‘’ð‘›ð‘¡) ð‘–ð‘›ð‘¡ð‘’ð‘”ð‘’ð‘Ÿ.
 *  9 = ð‘†ð¿ð‘‚ð‘ðº ð´ 32-ð‘ð‘–ð‘¡ (4-ð‘ð‘¦ð‘¡ð‘’) ð‘ ð‘–ð‘”ð‘›ð‘’ð‘‘ (ð‘¡ð‘¤ð‘œð‘ -ð‘ð‘œð‘šð‘ð‘™ð‘’ð‘šð‘’ð‘›ð‘¡) ð‘–ð‘›ð‘¡ð‘’ð‘”ð‘’ð‘Ÿ.
 * 10 = ð‘†ð‘…ð´ð‘‡ð¼ð‘‚ð‘ð´ð¿ ð‘‡ð‘¤ð‘œ ð‘†ð¿ð‘‚ð‘ðºâ€™ð‘ : ð‘¡â„Žð‘’ ð‘“ð‘–ð‘Ÿð‘ ð‘¡ ð‘Ÿð‘’ð‘ð‘Ÿð‘’ð‘ ð‘’ð‘›ð‘¡ð‘  ð‘¡â„Žð‘’ ð‘›ð‘¢ð‘šð‘’ð‘Ÿð‘Žð‘¡ð‘œð‘Ÿ ð‘œð‘“ ð‘Ž ð‘“ð‘Ÿð‘Žð‘ð‘¡ð‘–ð‘œð‘›, ð‘¡â„Žð‘’ ð‘ ð‘’ð‘ð‘œð‘›ð‘‘ ð‘¡â„Žð‘’
 *      ð‘‘ð‘’ð‘›ð‘œð‘šð‘–ð‘›ð‘Žð‘¡ð‘œð‘Ÿ.
 * 11 = ð¹ð¿ð‘‚ð´ð‘‡ ð‘†ð‘–ð‘›ð‘”ð‘™ð‘’ ð‘ð‘Ÿð‘’ð‘ð‘–ð‘ ð‘–ð‘œð‘› (4-ð‘ð‘¦ð‘¡ð‘’) ð¼ð¸ð¸ð¸ ð‘“ð‘œð‘Ÿð‘šð‘Žð‘¡.
 * 12 = ð·ð‘‚ð‘ˆðµð¿ð¸ ð·ð‘œð‘¢ð‘ð‘™ð‘’ ð‘ð‘Ÿð‘’ð‘ð‘–ð‘ ð‘–ð‘œð‘› (8-ð‘ð‘¦ð‘¡ð‘’) ð¼ð¸ð¸ð¸ ð‘“ð‘œð‘Ÿð‘šð‘Žð‘¡.
 *
 * ð‘Šð‘Žð‘Ÿð‘›ð‘–ð‘›ð‘”: ð¼ð‘¡ ð‘–ð‘  ð‘ð‘œð‘ ð‘ ð‘–ð‘ð‘™ð‘’ ð‘¡â„Žð‘Žð‘¡ ð‘œð‘¡â„Žð‘’ð‘Ÿ ð‘‡ð¼ð¹ð¹ ð‘“ð‘–ð‘’ð‘™ð‘‘ ð‘¡ð‘¦ð‘ð‘’ð‘  ð‘¤ð‘–ð‘™ð‘™ ð‘ð‘’ ð‘Žð‘‘ð‘‘ð‘’ð‘‘ ð‘–ð‘› ð‘¡â„Žð‘’ ð‘“ð‘¢ð‘¡ð‘¢ð‘Ÿð‘’. ð‘…ð‘’ð‘Žð‘‘ð‘’ð‘Ÿð‘  ð‘ â„Žð‘œð‘¢ð‘™ð‘‘
 *          ð‘ ð‘˜ð‘–ð‘ ð‘œð‘£ð‘’ð‘Ÿ ð‘“ð‘–ð‘’ð‘™ð‘‘ð‘  ð‘ð‘œð‘›ð‘¡ð‘Žð‘–ð‘›ð‘–ð‘›ð‘” ð‘Žð‘› ð‘¢ð‘›ð‘’ð‘¥ð‘ð‘’ð‘ð‘¡ð‘’ð‘‘ ð‘“ð‘–ð‘’ð‘™ð‘‘ ð‘¡ð‘¦ð‘ð‘’.
 */

pub type Byte = u8;
pub type Ascii = char;
pub type Short = u16;
pub type Long = u32;
// TODO pub type Rational = ;
pub type Sbyte = i8;
pub type Undefined = u8;
pub type Sshort = i16;
pub type Slong = i32;
// TODO pub type Srational = ;
pub type Float = f32;
pub type Double = f64;

impl Type {
    #[must_use]
    pub const fn new(type_: u16) -> Type {
        match type_ {
            0 => Type::Unknown,
            1 => Type::Byte(1),
            2 => Type::Ascii(1),
            3 => Type::Short(2),
            4 => Type::Long(4),
            5 => Type::Rational(8),
            6 => Type::Sbyte(1),
            7 => Type::Undefined(1),
            8 => Type::Sshort(2),
            9 => Type::Slong(4),
            10 => Type::Srational(8),
            11 => Type::Float(4),
            12 => Type::Double(8),
            _ => Type::Unexpected,
        }
    }

    /*
     * I really wish I could just write _(size) => *size or access the data as a property of the
     * enum, like type_.size, without this boilerplate code.
     */
    #[must_use]
    pub const fn size(&self) -> u32 {
        match &self {
            Type::Byte(size)
            | Type::Ascii(size)
            | Type::Sbyte(size)
            | Type::Undefined(size)
            | Type::Short(size)
            | Type::Sshort(size)
            | Type::Long(size)
            | Type::Slong(size)
            | Type::Float(size)
            | Type::Rational(size)
            | Type::Srational(size)
            | Type::Double(size) => *size,
            _ => 0,
        }
    }
}

#[derive(Debug, Eq, PartialEq)]
pub enum Type {
    Unknown,
    Byte(u32),
    Ascii(u32),
    Short(u32),
    Long(u32),
    Rational(u32),
    Sbyte(u32),
    Undefined(u32),
    Sshort(u32),
    Slong(u32),
    Srational(u32),
    Float(u32),
    Double(u32),
    Unexpected,
}
